<div layout="row" layout-padding>
    <div flex-offset-gt-sm="20" flex-gt-sm="60" flex="100">
        <div layout="column" flex>
            <h3 class="md-headline">
                Saved Data
                <md-button class="md-primary md-icon-button" ng-click="ctrl.deleteAllSavedResults()">
                    <md-icon md-svg-icon="delete"></md-icon>
                    <md-tooltip>Delete all results</md-tooltip>
                </md-button>
            </h3>
            <p class="padding-bottom">
                Any results you save, using the 'Save' button on the toolbar at the top, will be listed here.
                The results are cached on a server and will automatically expire.
                This list of saved result IDs is cached in your current browser and will not be available in another browser or computer.
            </p>
            <div ng-if="ctrl.savedResults.length == 0">
                <md-card flex>
                    <md-card-title>
                        <md-card-title-text>
                            <span class="md-headline">No saved results</span>
                        </md-card-title-text>
                    </md-card-title>
                    <md-card-content>
                        It doesn't look like you've got any saved results. You can use the 'Save' button on the toolbar
                        at the top to save your results.
                    </md-card-content>
                </md-card>
            </div>
            <div ng-repeat="savedResult in ctrl.savedResults">
                <md-card flex>
                    <md-card-header>
                        <md-card-avatar>
                            <md-icon md-svg-icon="save"></md-icon>
                        </md-card-avatar>
                        <md-card-header-text>
                            <span class="md-title">{{savedResult.localId}}</span>
                            <span class="md-subhead">ID: {{savedResult.jobId}}</span>
                        </md-card-header-text>
                        <md-button class="md-primary md-icon-button" ng-click="ctrl.deleteSavedResults(savedResult.jobId)">
                            <md-icon md-svg-icon="delete"></md-icon>
                            <md-tooltip>Delete results</md-tooltip>
                        </md-button>
                        <md-button class="md-primary md-icon-button" ng-click="ctrl.reloadSavedResults(savedResult.jobId)">
                            <md-icon md-svg-icon="open-in-new"></md-icon>
                            <md-tooltip>Reload results</md-tooltip>
                        </md-button>
                    </md-card-header>
                </md-card>
            </div>
        </div>
    </div>
</div>
